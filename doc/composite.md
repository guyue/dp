# 组合模式

Tags: 设计模式 读书笔记 技术

---

组合模式为程序开发带来两大好处：
1. 可以用同样的方法操作对象的集合和其中的特定子对象；
2. 可以用来把一批子对象组织成树形结构，并且使整棵树都可以被遍历。

在组合对象的层次体系中有两种类型的对象：*叶对象*和*组合对象*。一个组合对象由一些别的组合对象和叶对象组成。其中只有叶对象不可以包含子对象。叶对象是组合对象中的基本对象，也是各种操作的落实地点。

## 组合模式的使用场景

只有同时存在下列两个条件，才适合使用组合模式：
1. 存在组成某种层次体系的对象；
2. 希望对这批对象或其中的一部分对象实施一个操作。

## 组合模式之利

在组合模式中，各个对象之间的耦合非常松散。用组合模式组织起来的对象形成了一个出色的层次体系。每当对顶层组合对象执行一个操作时，实际上是在对整个结构执行深度优先的搜索以查找节点。

## 组合模式之弊

由于对组合对象调用的任何操作都会被传递到它的所有子对象，如果这个体系结构很大的话，系统的性能将会受到影响。