# 命令模式

Tags: 设计模式 读书笔记 技术

---

命令模式是一种封装方法调用的方式，可以用来对方法进行参数化处理和传送，经这样处理过的方法调用可以在任何需要的时候执行，消除调用操作的对象和实现操作的对象之间的耦合，为各种具体类的更换带来了极大的灵活性。

## 命令的结构

最简形式的命令对象是一个操作和用以调用这个操作的对象的结合体。命令模式中包含三个参与者：客户（client）、调用者（invoking object）和接收者（receiving object）。客户负责实例化命令并将其交给调用者；调用者接过命令并将其保存下来，它会在某个时候调用该命令对象的execute方法，或者将其交给另一个潜在的调用者；接收者则是实际执行操作的对象。

简而言之：客户创建命令；调用者执行该命令；接收者在命令执行时执行相应的操作。

## 命令模式的适用场合

命令模式的主要用途是隔离调用操作的对象（用户界面、API或代理等）与实施操作的对象，所以，只要是两个对象间的互动方式需要更高的模块话程度时都可以用到这种模式。

许多用户界面元素都非常符合这样的特征，比如菜单项。命令模式可以彻底消除用户界面元素与负责实际工作类之间的耦合。

## 命令模式之利

使用命令模式主要有两个好处：
1. 如果运用得当，可以提高程序的模块化程度和灵活性；
2. 有了它，实现取消和状态恢复等复杂的有用特性非常用。

## 命令模式之弊

与其他模式一样，如果用法有误或者勉强的话，命令模式也会对程序造成损害。