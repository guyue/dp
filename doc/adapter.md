# 适配器模式

Tags: 设计模式 读书笔记 技术

---

适配器模式可以用来在*现有接口*和*不兼容类*之间进行适配。使用这种模式的对象又叫做*包装器（Wrapper）*，因为他们是在用一个新的接口包装另一个对象。

适配器可以被添加到现有代码中以协调两个不同的接口。如果现有代码的接口能很好的满足需求，那就可能没有必要使用适配器。但要是现有接口对于手头的工作来说不够直观或实用，那么可以使用适配器来提供一个更简洁或更丰富（option-rich）的接口。

从表面上看，适配器模式很像门面模式。它们都要对别的对象进行包装并改变其呈现的接口。二者的差别在于其如何改变接口。门面元素提供的是一个简化的接口，它并不提供额外的选择，而且有时为了方便完成常见任务还会做出一些假设。而适配器则会把一个接口转换为另一个接口，他并不会过滤某些能力，也不会简化接口。如果客户期待系统的API不可用，那就需要用到适配器。适配器可以被实现为不兼容的方法调用之间的一个代码薄层。

## 适配器模式的适用场合

适配器适用于客户系统期待的接口与现有API提供的接口不兼容这种场合。它只能用来协调语法上的差异问题，适配两个方法执行的应该是类似的任务。

## 适配器模式之利

适配器有助于避免*大规模改写现有客户代码*。其工作机制是：用一个新的接口对现有类的接口进行包装，这样客户程序就能使用这个并非为其量身打造的类而毋需为此大动手术。在涉及到大型系统和遗留框架的情况下，它的优点往往比缺点更加突出。

## 适配器模式之弊

适配器是一种不必要的开销，完全可以通过重写现有代码避免。此外适配器模式也会引入一批需要支持的新工具。